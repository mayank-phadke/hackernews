(this.webpackJsonphackernews=this.webpackJsonphackernews||[]).push([[0],{37:function(e,t,a){},38:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),s=a(30),n=a.n(s),i=a(7),o=a(8),h=a(10),l=a(9),d=a(12),u=(a(37),a(38),a(31)),j=a.n(u),b=a(0),f=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("a",{href:this.props.url,className:"stretched-link text-decoration-none text-reset",target:"_blank",rel:"noreferrer",children:Object(b.jsx)("h5",{className:"card-title",children:this.props.title})}),Object(b.jsxs)("small",{className:"text-muted",children:[this.props.points," points "," ","by ",this.props.author," "," ",j.a.unix(this.props.time).fromNow()," "," ","| ",this.props.comments," "," ",1===this.props.comments?"comment":"comments"]})]})})}}]),a}(c.a.Component),m=a(14),p=a.n(m),y={getTopStories:function(){return new Promise((function(e,t){p.a.get("https://hacker-news.firebaseio.com/v0/topstories.json").then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},getAskStories:function(){return new Promise((function(e,t){p.a.get("https://hacker-news.firebaseio.com/v0/askstories.json").then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},getShowStories:function(){return new Promise((function(e,t){p.a.get("https://hacker-news.firebaseio.com/v0/showstories.json").then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},getJobStories:function(){return new Promise((function(e,t){p.a.get("https://hacker-news.firebaseio.com/v0/jobstories.json").then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},getItemById:function(e){return new Promise((function(t,a){p.a.get("https://hacker-news.firebaseio.com/v0/item/".concat(e,".json")).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))}},O=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"d-flex justify-content-center align-items-center mt-5",children:[Object(b.jsx)("div",{className:"spinner-border me-3"}),"Loading..."]})}}]),a}(c.a.Component),v=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={storyArray:[],loading:!0},r.fetchDataForEachStory=r.fetchDataForEachStory.bind(Object(d.a)(r)),r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchDataForEachStory(this.props.storyIdArray)}},{key:"componentDidUpdate",value:function(e){this.areStoryArraysEqual(this.props.storyIdArray,e.storyIdArray)||this.fetchDataForEachStory(this.props.storyIdArray)}},{key:"fetchDataForEachStory",value:function(e){var t=this,a=[],r=[];e.forEach((function(e){var t=y.getItemById(e).then((function(e){a.push(e)}));r.push(t)})),Promise.all(r).then((function(){t.setState({storyArray:a,loading:!1})}))}},{key:"areStoryArraysEqual",value:function(e,t){return e===t||e.every((function(e,a){return e===t[a]}))}},{key:"render",value:function(){if(this.state.loading)return Object(b.jsx)(O,{});var e=this.state.storyArray.filter(this.filterStories.bind(this));return Object(b.jsx)(b.Fragment,{children:0===e.length?Object(b.jsx)("div",{className:"d-flex justify-content-center align-items-center mt-5",children:"No Results."}):e.map((function(e,t){return Object(b.jsx)("div",{children:Object(b.jsx)(f,{title:e.title,url:e.url,points:e.score,author:e.by,time:e.time,comments:e.descendants})},t)}))})}},{key:"filterStories",value:function(e){return e?e.title.toLowerCase().includes(this.props.searchQuery.toLowerCase())||e.by.toLowerCase().includes(this.props.searchQuery.toLowerCase()):null}}]),a}(c.a.Component),k=a(2),x=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).onFilterSelected=r.onFilterSelected.bind(Object(d.a)(r)),r}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(b.jsxs)("div",{className:"form-check form-check-inline",children:[Object(b.jsx)("input",{className:"form-check-input",name:"categoryRadio",type:"radio",id:"topRadio",value:"top",checked:"top"===this.props.selectedFilter||""===this.props.selectedFilter,onChange:this.onFilterSelected}),Object(b.jsx)("label",{className:"form-check-label",htmlFor:"topRadio",children:"Top"})]}),Object(b.jsxs)("div",{className:"form-check form-check-inline",children:[Object(b.jsx)("input",{className:"form-check-input",name:"categoryRadio",type:"radio",id:"askRadio",value:"ask",checked:"ask"===this.props.selectedFilter,onChange:this.onFilterSelected}),Object(b.jsx)("label",{className:"form-check-label",htmlFor:"askRadio",children:"Ask"})]}),Object(b.jsxs)("div",{className:"form-check form-check-inline",children:[Object(b.jsx)("input",{className:"form-check-input",name:"categoryRadio",type:"radio",id:"showRadio",value:"show",checked:"show"===this.props.selectedFilter,onChange:this.onFilterSelected}),Object(b.jsx)("label",{className:"form-check-label",htmlFor:"showRadio",children:"Show"})]}),Object(b.jsxs)("div",{className:"form-check form-check-inline",children:[Object(b.jsx)("input",{className:"form-check-input",name:"categoryRadio",type:"radio",id:"jobsRadio",value:"jobs",checked:"jobs"===this.props.selectedFilter,onChange:this.onFilterSelected}),Object(b.jsx)("label",{className:"form-check-label",htmlFor:"jobsRadio",children:"Jobs"})]})]})}},{key:"onFilterSelected",value:function(e){this.props.history.push(e.target.value)}}]),a}(c.a.Component),g=Object(k.f)(x),S=a(16),N=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={storyIdArray:[],searchQuery:""},r.fetchDataTimer=null,r.clearStoryData=r.clearStoryData.bind(Object(d.a)(r)),r.fetchStoryData=r.fetchStoryData.bind(Object(d.a)(r)),r.setFetchDataTimer=r.setFetchDataTimer.bind(Object(d.a)(r)),r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchStoryData(),this.setFetchDataTimer()}},{key:"componentDidUpdate",value:function(e){e.filter!==this.props.filter&&(this.fetchDataTimer&&clearInterval(this.fetchDataTimer),this.clearStoryData(),this.fetchStoryData(),this.setFetchDataTimer())}},{key:"setFetchDataTimer",value:function(){var e=this;this.fetchDataTimer=setInterval((function(){console.log("Fetching Data"),e.fetchStoryData()}),6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.fetchDataTimer)}},{key:"clearStoryData",value:function(){this.setState({storyIdArray:[]})}},{key:"fetchStoryData",value:function(){var e,t=this;switch(this.props.filter){default:case"top":e=y.getTopStories();break;case"ask":e=y.getAskStories();break;case"show":e=y.getShowStories();break;case"jobs":e=y.getJobStories()}e.then((function(e){t.setState({storyIdArray:e})})).catch((function(e){console.error("Error fetching data",e)}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)("header",{children:Object(b.jsx)("nav",{className:"navbar navbar-dark myNavbar",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)(S.b,{to:"/",className:"navbar-brand mb-0 h1",children:"HackerNews LIVE"}),Object(b.jsxs)("a",{href:"http://mayank-phadke.github.io/",target:"_blank",rel:"noreferrer",className:"text-light text-decoration-none",children:["Developed By: ",Object(b.jsx)("span",{className:"developer-name text-decoration-underline",children:"Mayank Phadke"})]})]})})}),Object(b.jsxs)("main",{className:"container my-3",children:[Object(b.jsxs)("div",{className:"row align-items-center mb-3",children:[Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("input",{type:"text",className:"form-control m-2",placeholder:"Search by title, user...",value:this.state.searchQuery,onChange:function(t){e.setState({searchQuery:t.target.value})}})}),Object(b.jsx)("div",{className:"col",children:Object(b.jsx)(g,{selectedFilter:this.props.filter})})]}),0===this.state.storyIdArray.length?Object(b.jsx)(O,{}):Object(b.jsx)(v,{searchQuery:this.state.searchQuery,storyIdArray:this.state.storyIdArray})]})]})}}]),a}(c.a.Component),w=Object(k.f)(N),D=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(b.jsx)(S.a,{children:Object(b.jsxs)(k.c,{children:[Object(b.jsx)(k.a,{path:"/top",children:Object(b.jsx)(w,{filter:"top"})}),Object(b.jsx)(k.a,{path:"/ask",children:Object(b.jsx)(w,{filter:"ask"})}),Object(b.jsx)(k.a,{path:"/show",children:Object(b.jsx)(w,{filter:"show"})}),Object(b.jsx)(k.a,{path:"/jobs",children:Object(b.jsx)(w,{filter:"jobs"})}),Object(b.jsx)(k.a,{path:"/",children:Object(b.jsx)(w,{filter:"top"})})]})})}}]),a}(c.a.Component);n.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.69e45b30.chunk.js.map